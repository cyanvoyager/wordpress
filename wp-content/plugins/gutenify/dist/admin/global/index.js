(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{getSettings:()=>a,getSiteOptions:()=>r,getTemplateData:()=>l});var n={};e.r(n),e.d(n,{apiFetch:()=>c,setSettings:()=>u,setSiteOptions:()=>p,updateSiteOptions:()=>d});var i={};e.r(i),e.d(i,{API_FETCH:()=>_});var o={};e.r(o),e.d(o,{getSettings:()=>y,getSiteOptions:()=>f});const s=window.wp.data;function a(e){return e.settings}function r(e){return e.site_options}function l(e,t){return e.templatesData[t]}function c(e){return{type:"API_FETCH",request:e}}function u(e){return{type:"SET_SETTINGS",settings:e}}function p(e){return{type:"SET_SITE_OPTIONS",site_options:{...e}}}function d(e){return{type:"UPDATE_SITE_OPTIONS",site_options:{...e}}}const m=window.wp.apiFetch;var g=e.n(m);function _(e){let{request:t}=e;return g()(t).then((e=>!!(e&&e.success&&e.response)&&e.response))}function*y(){return u(yield c({path:"/gutenify/v1/get_settings/"}))}function*f(){return p({settings:yield c({path:"/gutenify/v1/get_site_options/"}),coreSettings:{}})}const b=(0,s.createReduxStore)("gutenify/settings",{reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{settings:!1,site_options:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SETTINGS":e.settings=t.settings;break;case"SET_SITE_OPTIONS":!e.site_options&&t.site_options&&(e.site_options={...t.site_options});break;case"UPDATE_SITE_OPTIONS":t.site_options&&(e.site_options={...t.site_options})}return{...e}},selectors:t,actions:n,controls:i,resolvers:o});(0,s.register)(b);const w=window.wp.element,S=window.lodash,E=window.wp.hooks,v=window.wp.compose,h=window.wp.blockEditor,T=window.wp.i18n,k=window.wp.components,C=[];(0,E.addFilter)("blocks.registerBlockType","extend-block-example/attribute/spacing",((e,t)=>C.includes(t)?(e.attributes=(0,S.assign)(e.attributes,{responsiveDisplay:{type:"array",default:[]}}),e):e));const O=[{label:(0,T.__)("Desktop"),name:"desktop"},{label:(0,T.__)("Tablet"),name:"tablet"},{label:(0,T.__)("Mobile"),name:"mobile"}],P=(0,v.createHigherOrderComponent)((e=>t=>{if(!C.includes(t.name))return(0,w.createElement)(e,t);const{responsiveDisplay:n,className:i}=t.attributes;return(0,S.isEmpty)(i)&&(t.attributes.className=""),(0,w.createElement)(w.Fragment,null,(0,w.createElement)(e,t),(0,w.createElement)(h.InspectorAdvancedControls,null,(0,w.createElement)(k.BaseControl,{id:"textarea-1",label:(0,T.__)("Hide on specific device")},O.map((e=>(0,w.createElement)(w.Fragment,{key:`${e.name}`},(0,w.createElement)(k.ToggleControl,{label:`${(0,T.__)("Hide on")} ${e.label}`,help:n.includes(e.name)?`${(0,T.__)("Hidden on")} ${e.label}`:"",checked:n.includes(e.name),onChange:i=>{let o=[...n,e.name],s=t.attributes.className;if(i)s=t.attributes.className+` hide-on-${e.name}`;else{o=(0,S.without)(n,e.name);const t=(0,S.without)(s.split(" "),`hide-on-${e.name}`,"undefined");s=t.join(" ")}t.setAttributes({responsiveDisplay:[...o],className:s})}})))))))}),"withSpacingControl");(0,E.addFilter)("editor.BlockEdit","extend-block-example/with-spacing-control",P);const N=window.wp.blocks,B=window.wp.plugins,I={pluginMainSlug:"gutenify",pluginMainCamelCaseName:"gutenify",pluginMainFunctionPrefix:"gutenify"},{pluginMainSlug:D}=I;class M extends w.Component{componentDidMount(){const{insertBlocks:e}=this.props,t=document.querySelector(".edit-post-header__toolbar");if(t){const n=()=>(0,w.createElement)(w.Fragment,null,(0,w.createElement)("button",{className:"components-button components-icon-button",onClick:t=>{t.preventDefault(),e((0,N.createBlock)(`${D}/templates-browser`,{isTemplatesModalOnly:!0}))}},(0,w.createElement)(k.Icon,{icon:"grid-view"}),"Â ",(0,T.__)("Add Template","@@text_domain"))),i=document.createElement("div");i.classList.add(`${D}-toolbar-templates`),t.appendChild(i),(0,w.render)((0,w.createElement)(n,null),i)}}render(){return null}}(0,B.registerPlugin)(`${D}-toolbar-templates`,{render:(0,v.compose)((0,s.withDispatch)((e=>{const{insertBlocks:t}=e("core/block-editor");return{insertBlocks:t}})))(M)});const F=window.wp.editPost,$=window.wp.notices,{pluginMainSlug:x}=I;(0,B.registerPlugin)(`${x}-save-template-option`,{render:()=>{const e=(0,s.useSelect)((e=>e("core/block-editor").getSelectedBlock()),[]),[t,n]=(0,w.useState)(!1),[i,o]=(0,w.useState)(""),[a,r]=(0,w.useState)(!1),{saveEntityRecord:l}=(0,s.useDispatch)("core"),{createSuccessNotice:c,createErrorNotice:u}=(0,s.useDispatch)($.store),p=(0,N.getBlockTypes)().map((e=>e.name));return(0,w.createElement)(w.Fragment,null,(0,w.createElement)(F.PluginBlockSettingsMenuItem,{allowedBlocks:p,icon:"open-folder",label:(0,T.__)("Save template"),onClick:()=>{n(!0)}}),t&&(0,w.createElement)(k.Modal,{title:(0,T.__)("Save Template"),onRequestClose:()=>n(!1)},(0,w.createElement)(k.Card,{isBorderless:!0},(0,w.createElement)(k.CardBody,null,(0,w.createElement)(k.TextControl,{value:i,onChange:e=>{o(e),r(!1)},label:(0,T.__)("Title"),className:a?"gutenify-field-error":""})),(0,w.createElement)(k.CardFooter,null,(0,w.createElement)(k.Button,{variant:"secondary",onClick:()=>{n(!1)}},(0,T.__)("Cancel")),(0,w.createElement)(k.Button,{variant:"primary",onClick:()=>{if(""===i)return u((0,T.__)("Please enter template title."),{type:"snackbar"}),r(!0),!1;r(!1);const t=(0,N.serialize)(e);l("postType","gutenify_template",{title:i,content:t,status:"publish"}).then((()=>{c((0,T.__)("Saved template."),{type:"snackbar"}),n(!1)})).catch((()=>{c((0,T.__)("There was error saving template."),{type:"snackbar"})}))}},(0,T.__)("Save"))))))}});const A=window.jQuery;var j=e.n(A);j()((function(){window.addEventListener("load",(()=>{["gutenify/faqs","gutenify/content-toggle-item","gutenify/buttons","gutenify/button","gutenify/info-box","gutenify/map","gutenify/service","gutenify/star-rating","gutenify/team-member","gutenify/team","gutenify/testimonial","gutenify/testimonials","gutenify/grid","gutenify/grid-item","gutenify/icon"].forEach((e=>{j()(`[data-type="${e}"]`).find(".block-editor-warning__action button").trigger("click")}))}))}))})();